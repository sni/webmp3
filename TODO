TODO:
  - sanity checks in index.php
  - split js into different files
